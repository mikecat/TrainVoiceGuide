TrainVoiceGuide
===============

TRAIN CREW 向けの外部ツールです。
UIの代替として、停車/通過までの残り時間と距離、
および制限速度とその予告の情報を AquesTalk による合成音声でお知らせします。

特に、UIを表示したくても表示できないVRモードでの使用がオススメ！

本製品はアクエスト社の規則音声合成ライブラリを使用しており、その著作権は同社に
帰属します。
同ライブラリは、Windows プラットフォーム上でのみ使用が許諾されています。
(「個人利用」でない場合を含め) 使用にあたりライセンスの購入は不要です。

## 使い方

1. TRAIN CREW と TrainVoiceGuide を起動します。(順番は不問)
2. TRAIN CREW の「設定→操作設定→外部デバイス入出力」が
   「有効」になっていることを確認します。
   「無効」になっている場合は「有効」にします。
3. 必要に応じ、TRAIN CREW のその他の設定 (VRモードの有効化など) や、
   TrainVoiceGuide の設定を行います。
4. 電車を運転します。

## 設定

### 残り距離・時間

UIに表示される残り距離と、対応する地点への到着予定時刻までの時間を読み上げます。

残り距離は、メートル単位で読み上げを行います。
ただし、「停車時」による読み上げ、かつ 300cm 以内の場合は、
センチメートル単位で読み上げを行います。

あるイベントによる読み上げ中に、「停車時」を除く別のイベントが発生した場合は、
読み上げ中のイベントによる読み上げは省略します。

#### 読み上げ

* なし：残り距離も時間も読み上げを行いません。
* 時間：残り距離の読み上げは行わず、時間のみ読み上げを行います。
* 距離：時間の読み上げを行わず、残り距離のみ読み上げを行います。
* 時間+距離：時間→残り距離、の順で読み上げを行います。
* 距離+時間：残り距離→時間、の順で読み上げを行います。

#### 音声速度

残り距離と時間を読み上げる音声の速さを、50(遅い)～300(速い)で設定します。
「テスト」を押すと、現在設定されている速さでテスト用の音声を再生します。
テスト用の音声の内容には、「読み上げ」の設定も反映されます。

#### 読み上げるタイミング

残り距離と時間を読み上げるトリガーとして用いるイベントを設定します。

* 発車時：速度がゼロからゼロ以外になった時、読み上げを行います。
* 停車時：速度がゼロ以外からゼロになった時、読み上げを行います。
* 次駅変化時：次駅の情報が変化した時、読み上げを行います。
* 残り距離：残り距離[m]が設定した距離の倍数になった時、読み上げを行います。
* 残り時間：残り時間[秒]が設定した時間の倍数になった時、読み上げを行います。

### 制限速度・予告

UIに表示される制限速度と、その予告の読み上げを行います。

読み上げは、ゲーム開始時、および制限速度や予告の変化時に行います。
ただし、「予告されていた値が制限速度になり、予告が消えた」時は、
予告の読み上げを行いません。

#### 読み上げ

* なし：制限速度も予告も読み上げを行いません。
* 制限：予告の読み上げは行わず、制限速度のみ読み上げを行います。
* 予告：制限速度の読み上げを行わず、予告のみ読み上げを行います。
* 制限+予告：制限速度および予告の読み上げを行います。
             同時に変化した場合、制限速度を先に読み上げます。
* 予告+制限：制限速度および予告の読み上げを行います。
             同時に変化した場合、予告を先に読み上げます。

#### 音声速度

制限速度と予告を読み上げる音声の速さを、50(遅い)～300(速い)で設定します。
「テスト」を押すと、現在設定されている速さでテスト用の音声を再生します。
テスト用の音声の内容には、「読み上げ」の設定も反映されます。

## 状態表示

TRAIN CREW から API で取得した状態を表示します。
(取得した値をもとに計算した状態を含みます)

* 次駅：次の駅 (信号場や車庫などを含む) の名前を表示します。
* 距離：基準地点までの距離を表示します。
* 時間：基準地点への到着予定時刻までの時間を表示します。
* 速度：現在の速度を表示します。
* 制限：現在の制限速度を表示します。
* 予告：現在の制限速度の予告として表示される値を表示します。

## 関連リンク

* mikecat/TrainVoiceGuide: TRAIN CREW の残り距離・残り時間・制限速度・制限予告を音声で知らせる外部ツール
  https://github.com/mikecat/TrainVoiceGuide
* TRAIN CREW | acty（アクティー）
  https://acty-soft.com/traincrew/
* 超小型・最軽量 音声合成エンジン | 株式会社アクエスト
  https://www.a-quest.com/
* ゆっくり実況で収益化するときライセンス購入は必要？ | N.Yamazaki's blog
  http://blog-yama.a-quest.com/?eid=970181
  ※本ツールでは AquesTalkDa.dll を採用しており、
    記事に掲載されている AquesTalk.dll とはMD5ハッシュ値が異なります。
